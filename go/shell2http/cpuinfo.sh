#!/bin/sh

echo "[{"
cat /proc/cpuinfo  | grep -v ":$" | sed "s/^$/}, {/g" | \
  sed -E 's/^([^:\t]*)[\t ]*: ([0-9]+)(\.[0-9]+|)$/"\1": \2\3,/g' | \
  sed -E 's/^([^\":\t]*)[\t ]*: ([^:]*)/"\1": "\2",/g' | \
  sed ':a;N;$!ba;s/,\n}/\n}/g' | sed '$ s/, {$/]/'

